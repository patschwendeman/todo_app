{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Patrick\\\\Documents\\\\Web\\\\React\\\\Todo_App\\\\client\\\\src\\\\app\\\\TodoTable.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { InputBar } from \"./InputBar\";\nimport { TodosDisplay } from \"./TodoDisplay\";\nimport './TodoTable.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst endpoint = 'http://localhost:8000';\nexport const TodoTable = () => {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [enterTodo, setEnterTodo] = useState(''); //Get Todos from DB\n\n  const fetchTodos = async () => {\n    const {\n      data,\n      status\n    } = await axios.get(endpoint + '/todos?_sort=time&_order=desc');\n\n    if (status > 199 && status < 300) {\n      setTodos(data);\n    }\n  }; //Enter Todo handler\n\n\n  const handleEnterTodo = event => {\n    setEnterTodo(event.currentTarget.value);\n  }; //Clear Todo handler\n\n\n  const handleClearTodos = async () => {\n    const {\n      data,\n      status\n    } = await axios.get(endpoint + '/todos?done=true');\n    data.forEach(element => {\n      const res = axios.delete(endpoint + '/todos/' + element.id);\n    });\n\n    if (status > 199 && status < 300) {\n      fetchTodos();\n    }\n  }; //Create Todo handler\n\n\n  const handleCreateTodo = async () => {\n    //Create new Todo\n    const newTodo = {\n      id: v4(),\n      describtion: enterTodo,\n      done: false,\n      time: Date.now()\n    };\n    const {\n      status\n    } = await axios.post(endpoint + '/todos', newTodo);\n\n    if (status > 199 && status < 300) {\n      fetchTodos();\n    }\n\n    setEnterTodo('');\n  }; //Delete Todod handler\n\n\n  const handleDeleteTodo = async (MouseEvent, eventTodo) => {\n    const id = eventTodo.id;\n    const {\n      status\n    } = await axios.delete(endpoint + '/todos/' + id);\n\n    if (status > 199 && status < 300) {\n      fetchTodos();\n    }\n  }; //Status handler\n\n\n  const handleStatus = async (MouseEvent, eventTodo) => {\n    const newStatus = eventTodo.done === true ? false : true;\n    const id = eventTodo.id;\n    const {\n      status\n    } = await axios.patch(endpoint + '/todos/' + id, {\n      \"done\": newStatus\n    });\n\n    if (status > 199 && status < 300) {\n      fetchTodos();\n    }\n  }; //Get Todos when open app\n\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todoTable\",\n      children: [/*#__PURE__*/_jsxDEV(InputBar, {\n        enterTodo: enterTodo,\n        handleEnterTodo: handleEnterTodo,\n        handleCreateTodo: handleCreateTodo,\n        handleClearTodos: handleClearTodos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(TodosDisplay, {\n        todos: todos,\n        handleDeleteTodo: handleDeleteTodo,\n        handleStatus: handleStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_s(TodoTable, \"aI0rTX2x6+0lLxoYDYSydl6RP0k=\");\n\n_c = TodoTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoTable\");","map":{"version":3,"sources":["C:/Users/Patrick/Documents/Web/React/Todo_App/client/src/app/TodoTable.tsx"],"names":["useState","useEffect","axios","InputBar","TodosDisplay","endpoint","TodoTable","todos","setTodos","enterTodo","setEnterTodo","fetchTodos","data","status","get","handleEnterTodo","event","currentTarget","value","handleClearTodos","forEach","element","res","delete","id","handleCreateTodo","newTodo","v4","describtion","done","time","Date","now","post","handleDeleteTodo","MouseEvent","eventTodo","handleStatus","newStatus","patch"],"mappings":"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","sourcesContent":["import { FunctionComponent, ReactElement, ChangeEvent, MouseEvent, useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport { InputBar } from \"./InputBar\";\r\n\r\nimport { TodosDisplay } from \"./TodoDisplay\"\r\nimport { Todos } from '../types/Todos'\r\nimport './TodoTable.css'\r\n\r\n\r\n\r\nconst endpoint = 'http://localhost:8000';\r\n\r\n\r\nexport const TodoTable: FunctionComponent = (): ReactElement => {\r\n   \r\n   \r\n    const [todos, setTodos] = useState<Array<Todos>>([]);   \r\n    const [enterTodo, setEnterTodo] = useState<string>('');\r\n\r\n\r\n    //Get Todos from DB\r\n    const fetchTodos = async() => {\r\n        const { data, status } = await axios.get(endpoint + '/todos?_sort=time&_order=desc');\r\n        if(status > 199 && status < 300){\r\n            setTodos(data);            \r\n        }\r\n    }    \r\n\r\n\r\n    //Enter Todo handler\r\n    const handleEnterTodo = (event: ChangeEvent<HTMLInputElement>): void => {\r\n      setEnterTodo(event.currentTarget.value);\r\n    };\r\n  \r\n\r\n    //Clear Todo handler\r\n    const handleClearTodos = async() => {\r\n        \r\n        const { data, status } = await axios.get(endpoint + '/todos?done=true');\r\n        data.forEach((element: Todos) => {\r\n            const res = axios.delete(endpoint + '/todos/' + element.id);\r\n            \r\n        });\r\n        if(status > 199 && status < 300){\r\n            fetchTodos();\r\n        }\r\n    }\r\n    \r\n\r\n    //Create Todo handler\r\n    const handleCreateTodo = async () => {\r\n\r\n        //Create new Todo\r\n        const newTodo = {\r\n            \r\n            id: v4(),\r\n            describtion: enterTodo,\r\n            done: false,\r\n            time: Date.now()\r\n        };\r\n\r\n\r\n        const { status } = await axios.post(endpoint + '/todos', newTodo);\r\n        if(status > 199 && status < 300){\r\n            fetchTodos();\r\n        }\r\n        \r\n        setEnterTodo('');   \r\n    };\r\n\r\n\r\n    //Delete Todod handler\r\n    const handleDeleteTodo = async (MouseEvent: MouseEvent ,eventTodo: Todos) => {\r\n        \r\n        const id = eventTodo.id;\r\n        \r\n        const { status } = await axios.delete(endpoint + '/todos/' + id);\r\n        if(status > 199 && status < 300){\r\n            fetchTodos();\r\n        }  \r\n    }\r\n\r\n\r\n    //Status handler\r\n    const handleStatus = async (MouseEvent: MouseEvent ,eventTodo: Todos) => {\r\n        \r\n        const newStatus = eventTodo.done === true ? false : true;\r\n        const id = eventTodo.id;\r\n        \r\n        const { status } = await axios.patch(endpoint + '/todos/' + id, {\"done\": newStatus});\r\n        if(status > 199 && status < 300){\r\n            fetchTodos();\r\n        }\r\n    }\r\n\r\n    //Get Todos when open app\r\n    useEffect(() => {\r\n        fetchTodos();\r\n    }, []);\r\n  \r\n  \r\n    return(\r\n            <>  \r\n                <div className=\"todoTable\">\r\n                    <InputBar \r\n                        enterTodo={ enterTodo } \r\n                        handleEnterTodo={ handleEnterTodo } \r\n                        handleCreateTodo={ handleCreateTodo }\r\n                        handleClearTodos= { handleClearTodos }\r\n                    />\r\n                    \r\n                    <TodosDisplay \r\n                        todos={ todos } \r\n                        handleDeleteTodo={ handleDeleteTodo } \r\n                        handleStatus={ handleStatus }\r\n                    /> \r\n                </div>    \r\n            </>      \r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}